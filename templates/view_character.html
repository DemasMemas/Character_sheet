{% extends 'base.html' %}

{% block title %}Просмотр персонажа {{ character.first_name }}{% endblock %}

{% block content %}
<h1>{{ character.first_name }} {{ character.last_name }}</h1>

<ul class="list-group mb-3">
  <li class="list-group-item"><strong>Возраст:</strong> {{ character.age or '—' }}</li>
  <li class="list-group-item"><strong>Группировка:</strong> {{ character.faction or '—' }}</li>
  <li class="list-group-item"><strong>Есть КПК:</strong> {{ 'Да' if character.has_pda else 'Нет' }}</li>
  <li class="list-group-item"><strong>Навыки и опыт:</strong><br>{{ character.skills_experience or '—' | nl2br }}</li>
  <li class="list-group-item"><strong>Состояние здоровья:</strong><br>{{ character.health_status or '—' | nl2br }}</li>
  <li class="list-group-item"><strong>Предыстория:</strong><br>{{ character.backstory or '—' | nl2br }}</li>
  <li class="list-group-item"><strong>Переносимый вес:</strong> {{ character.carry_weight or '—' }} кг</li>
</ul>

<!-- Блоки персонажа -->
<div class="container my-4 p-0">
  <h2>Блоки персонажа</h2>
  <div class="blocks-container">
    {% for block in root_blocks %}
        {% include 'includes/_block.html' %}
    {% endfor %}
  </div>
</div>

<a href="{{ url_for('edit_character', char_id=character.id) }}" class="btn btn-warning">Редактировать</a>
<a href="{{ url_for('dashboard') }}" class="btn btn-secondary">Назад к списку</a>

<script>
  document.querySelectorAll('.delete-block, .drag-handle, .edit-block-btn').forEach(element => {
    element.style.display = 'none';
  });
</script>
{% endblock %}